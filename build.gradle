buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "com.github.maiflai:gradle-scalatest:0.10"
    }
}

apply plugin: "scala"

group = group
version = version

targetCompatibility = "1.7"

repositories {
    mavenCentral()
}

dependencies {
    def scalaVersion = "2.10"
    def sparkVersion = "1.6.0"

    compile "org.scala-lang:scala-library:$scalaVersion.6"
    compile "ch.qos.logback:logback-classic:1.1.3"
    compile "org.slf4j:log4j-over-slf4j:1.7.13"

    compile "org.apache.spark:spark-core_$scalaVersion:$sparkVersion"
    compile "org.apache.spark:spark-streaming_$scalaVersion:$sparkVersion"
    compile "org.apache.spark:spark-streaming-kafka_$scalaVersion:$sparkVersion"

    compile "net.manub:scalatest-embedded-kafka_$scalaVersion:0.4.1"
}

configurations.all {
    // http://stackoverflow.com/questions/33573587/apache-spark-wrong-akka-remote-netty-version
    exclude group: "org.jboss.netty", module: "netty"
    exclude group: "org.slf4j", module: "slf4j-log4j12"
    exclude group: "log4j", module: "log4j"
}